<!DOCTYPE>
<html>

<head>
    <title>VOODOO Donuts</title>
    <link rel="stylesheet" href="Voodoo_part_2.css">
    <link href='http://fonts.googleapis.com/css?family=Montserrat+Subrayada:700' rel='stylesheet' type='text/css'>
  </head>


  <body>

    <header>VOODOO</header>
    <p></p>
    <p1>Doughnuts</p1>
    <section>
      <form>

      </form>
    </section>
    <section>
      <table >
        <tr>
          <td colspan="14"><button type = "button" id = "clickMe1">Downtown</button>
    <button type = "button" id = "clickMe2">Capitol Hill</button>
    <button type = "button" id = "clickMe3">South Lake Union</button>
    <button type = "button" id = "clickMe4">Wedgewood</button>
    <button type = "button" id = "clickMe5">Ballard</button>
        </td>
        </tr>
        <tr>
          <th>location</th>
          <th>7 am</th>
          <th>8 am</th>
          <th>9 am</th>
          <th>10 am</th>
          <th>11 am</th>
          <th>12 pm</th>
          <th>1 pm</th>
          <th>2 pm</th>
          <th>3 pm</th>
          <th>4 pm</th>
          <th>5 pm</th>
          <th>6 pm</th>
          <th>total</th>
        </tr>
        <tr id="downtown" class= "replaceable">
          <!-- <th>downtown</th> -->
        </tr>
        <tr id="capitol_hill" class= "replaceable">
          <!-- <th>capitol hill</th> -->
        </tr>
        <tr id="south_lake_union" class= "replaceable">
          <!-- <th>south lake union</th> -->
        </tr>
        <tr id="wedgewood" class= "replaceable">
          <!-- <th>wedgewood</th> -->
        </tr>
        <tr id="ballard" class= "replaceable">
          <!-- <th>ballard</th> -->
        </tr>
        <tr>
          <td colspan="14"><button type = "button" id = "clickMe6">RESTART</button></td>
        </tr>
        </table>
        <p id = "z"></p>

    </section>
    <div id = "boy"></div>



<script>
  function Location(name, hours, foot_traffic, percent_entering, donuts_per_entrant) {    //constructor function (cap 1st letter)
    this.name = name;
    this.hours = hours;            //var.property/key = value = 7
    this.foot_traffic = foot_traffic;      //Parameters
    this.percent_entering = percent_entering;
    this.donuts_per_entrant = donuts_per_entrant;

    this.random_foot_traffic = function() {
      return Math.floor(Math.random() * (this.foot_traffic[1] - this.foot_traffic[0]+1)) + this.foot_traffic[0];
    };

    this.donutsPerHour = function() {
      return Math.floor(this.random_foot_traffic() * (this.percent_entering/100) * (this.donuts_per_entrant) + .5);
    };

    this.createCell = function(data, element) {
      var rowEl = document.getElementById(this.name); //this finds "this." and
                                                    //stores it in a variable
                                                    //named var rowEl.
      var cellEl = document.createElement(element); //this creates a new element
                                                    //and stores it in var cellEl
      cellEl.textContent = data;  //This takes data and puts it in the new element
                                  //stored in cellEl
      rowEl.appendChild(cellEl);  //appendChild is taking the data element in cellEl
                                  //and putting it in the this.name row found by rowEL

    };

    this.bake = function() {
      var donutsPerHour,
          donutsPerDay = 0;
      var mydiv = document.getElementById(this.name); //this finds this. and stores
                                                      //it aside in var mydiv
      while ( mydiv.firstChild ) mydiv.removeChild( mydiv.firstChild );
      this.createCell(this.name, 'th');
    //   mydiv = document.getElementById(this.name);
    // while ( mydiv.firstChild ) mydiv.appendChild( mydiv.this.name );
      for (var i = 0; i <= this.hours; i++){
        donutsPerHour = this.donutsPerHour();
        donutsPerDay += donutsPerHour;
        // console.log("Hour " + i + ": " + this.donutsEachHour[i]);
        this.createCell(donutsPerHour, 'td');
      };

      // console.log("Total Donuts: " + this.totalDonuts);
      this.createCell(donutsPerDay, 'td');
    }
  }
    var downtown = new Location("downtown", 11, [10, 220], 10, 4);
    var capitol_hill = new Location("capitol_hill", 11, [5, 45], 45, 2);
    var south_lake_union = new Location ("south_lake_union", 11, [180,250], 5 , 6);
    var wedgewood = new Location ("wedgewood", 11, [20, 60], 20, 1.5);
    var ballard = new Location ("ballard", 11, [25, 175], 33, 1);


    function updateTable1(){
      downtown.bake();
    }
    function updateTable2(){
      capitol_hill.bake();
    }
    function updateTable3(){
      south_lake_union.bake();
    }
    function updateTable4(){
      wedgewood.bake();
    }
    function updateTable5(){
      ballard.bake();
    }
    function updateTable6(){
      var restart = document.getElementsByClassName("replaceable");
      for (var i = 0; i < restart.length; i++) {
        while (restart[i].firstChild ) restart[i].removeChild( restart[i].firstChild );
      };
    }

    document.getElementById("clickMe1").addEventListener("click",updateTable1)
    document.getElementById("clickMe2").addEventListener("click",updateTable2)
    document.getElementById("clickMe3").addEventListener("click",updateTable3)
    document.getElementById("clickMe4").addEventListener("click",updateTable4)
    document.getElementById("clickMe5").addEventListener("click",updateTable5)

    document.getElementById("clickMe6").addEventListener("click",updateTable6)

</script>
</body>
</html>


